<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Trail Monitoring System</title>

<link rel="stylesheet" type="text/css" href="css/styles.css" />

<!--[if IE 7]>
    <link rel="stylesheet" type="text/css" href="css/ie7.css" />
<![endif]-->
<!--[if IE]>
    <link rel="stylesheet" type="text/css" href="css/ie.css" />
<![endif]-->
<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="js/plugins.js"></script>
<script type="text/javascript" src="js/scripts.js"></script>
</head>
<body>
<div id="nojs-background">
    <img src="images/webcam/trailcam-7.png" alt="" /><!-- Non-JavaScript background -->
</div>
<!--Start Outside-->
<div class="outside"><a name="top"></a>

  <!-- Begin Header -->
  <div id="header-outer" class="clearfix">
    <div id="header-inner">

      <!--Logo-->
      <div class="logo"><a href="index.html"><img src="images/mtbtraillogo.png" width="60px" title="Trail Monitoring System" alt="Logo" /></a></div>
      <!--End Logo-->

      <!-- Nav -->
      <div id="nav-wrap">
        <div id="nav-wrap-inner">

            <!--Horizontal Menu-->
            <ul id="horz-nav-ul" class="sf-menu">
                <li class="home"><a href="index.html">Home</a></li>
                <li class="about"><a href="about.html">About</a></li>
                <li class="portfolio"><a href="#" onclick="return false;">Weather/Trail Data</a>
                  <ul>
                    <li><a href="weatherdata.html" target="blank">Trail Weather Data</a></li>
                    <li><a href="chargerdata.html" target="blank">Solar Charger Data</a></li>
                    <li><a href="trailstatus.html" target="blank">Current Trail Status</a></li>
                    <li><a href="http://data.trailmonitoring.ca" target="blank">Trailcam Data</a></li>
                    <li><a href="http://data2.trailmonitoring.ca" target="blank">Dagmar Moisture Sensor Data</a></li>
                    <li><a href="http://data3.trailmonitoring.ca" target="blank">Solar Charger Data</a></li>
                  </ul>
              </li>
                  <li class="contact"><a href="contact.html">Contact</a></li>
            </ul>
            <!--End Horizontal Menu-->

          <!--Search-->
          <div class="search-pop-up">
              <a id="search-button" href="#" title="Search" class="search-a"></a>
              <div class="search-container">
                <form action="" method="get">
                    <div class="search-input-wrap">
                        <input id="search-input" value="" class="search-input" name="query" />
                    </div>
                    <div class="search-button-wrap">
                        <input name="go" type="submit" value="Go" />
                    </div>
                </form>
              </div>
          </div>
          <!--End Search-->

          <!--Minimise-->
          <div class="min-button"><a id="minimise-button" href="#" title="Hide" class="min"></a></div>
          <!--End Minimise-->

        </div>
      </div>
      <!-- End Nav -->

    </div>
  </div>
  <!-- End Header -->

  <!-- Begin ABOUT US PAGE -->
  <div class="content-outer clearfix">
    <div class="content-inner">
      <!--About us content-->
      <div class="full-width-transparent clearfix">
        <h1>The Trail Monitoring System</h1>

        <!--Heading tag examples-->
        <div class="clearfix bottom-breaker">
            <h2>Motivation</h2>
            <p>The system provide two pieces:
              <ul>
                  <li>answers the question: Are the trails muddy? Should they be open?</li>
                  <li>informs uses via the internet and electronics trailhead signs that the trails are open or closed</li>
              </ul>
            </p>
            <p>
              The motivation for the project is to be able find out trail conditions without having to travel to the trails to determine if they are muddy, icy, or generally rideable. In Ontario, mountain bike trails are closed to riders to protect the trails from damage and erosion. 
              This project aims to easy the work of volunteers in determining if the trails should be open.
            </p>
            <h2>The Story</h2>
            <P>The details of the system are evolving as the number of sensors and the type of data collected is increasing. Some of the details of the project are outlined in IOT Magazine. Read about the project in the story <a href="https://theiotmagazine.com/why-eat-raspberry-pi-when-arduino-fruit-will-do-3ebfd8724d" target="_blank">Why Eat Raspberry PI when Arduino Fruit will do</a> on Medium.com</P>
            <p>The ESP32 microcontroller from Espressif has been selected as the system of choice for development.</p>
            <h2>Technology</h2>
            <h3>Solar Charger</h3>
            <p>The solar charger is based on a 235W Solarwinds panel driving a EPever Tracer 10 charge controller running a 20AH 24V battery pack. The solar charge is connected to a ESP32 modbus logger and reports data to the <a href="chargedata.html">Solar Charger Thingspeak Channel</a>.</p>
            <h3>Website</h3>
            This website is a static html page based on a theme purchased from Themeforest. The camera currently stores the files locally on disk and makes them available as required. The intent of the camera is for security purposes.
            <h3>Camera</h3>
            <p>The camera is based in a Raspberry PI W connected to a Raspberry camera. To that board is a one wire temperature sensor and a I2C light sensor. The light sensors allows the Raspberry PI to detect the amount of light and adjust the camera's exposure. An I2C voltage sensor is used to check the battery voltage. 
                Battery, temperature, and light information is posted to our <a href="https://thingspeak.com/channels/738696" target="_blank">ThinkSpeak Channel</a>. We want to know when the battery is getting to low and needs some help. We've had the SD card in the Raspberry PI get chewed up when the battery drops out. The voltage sensor allows
                Raspberry PI to text us when there is a low voltage condition and shutdown the system before the solar charge controller pulls the power to the device.</p>
            <h2>Future Directions: Sensor Network</h2>
            <P>Currently under test is a sensor system consisting of soil moisture, soil temperature, and rainfall detection. We plan to build on this system and deploy them throughout the forest using low power radio transmitters to get the data back to the trailhead for transmission to the internet.
            </P>
            <h2>Future Directions: Trailhead Signs</h2>
            <P>Not everyone is on social media. Not everyone knows that the trails are open or closed. We plan to deploy EPaper or LCD internet connected displays at the trailheads to inform users of the trail status. The signs will be connected to the instagram account allowing volunteers to update the trail status in one place and have it reflected everywhere. </P>
            <h2>Future Directions:  Artifical Intelligence</h2>
            <p>Once we have a large enough sensor network and enough data to process, we will use AI to review the data. The goal is to have sensor network determine if the trails should be opened or closed automatically without human intervention.</p>
            <h2>We Need Help</h2>
            <p>If you are interested in participating in the project, we would use help with hardware design, printed circuit board design, software project. We are willing to work with those who have time to learn programming. Willingness to work with Linux, Raspberry PI, Ardrino, Python, and C are skills we can use/offer.</p>
            <p>Hit our <a href="contact.html">contact page</a> and send us an email if you are interested or has skills we can use.</p>
        </div>
        <!--End Heading tag examples-->


         <!--Images in content example-->
        <div class="clearfix bottom-breaker">
           <div class="one-of-two">
           <h3>Remote Sensor Box</h3>
           <img class="img-left" src="images/remotesensor.jpg" width="200" alt="remotesensor" />
            <p>This prototype system uses an ESP32 MCU connected to soil moisture, soil temperature, and rain sensors. The prototype is connecting to the internet via WIFI sending data to Thingspeak directly. This prototype is close enough to the solar array and 3G modem. Future versions will use LORA radios and be able to work anywhere in the forest.</p>
            </div>
            <div class="two-of-two">
            <h3>Prototyping</h3>
            <img class="img-right" src="images/prototyping.jpg" width="200" alt="solarpanel" />
            <p>The ESP32 device makes for easy prototyping. The ESP-IDF SDK includes most of the code require to operate the device for the different busses needed. Code is written in C or C++.</p>
            </div>
        </div>
        <div class="clearfix bottom-breaker">
          <div class="one-of-two">
          <h3>ESP32 Modbus logger</h3>
          <img class="img-left" src="images/esp32-modbus.jpg" width="200" alt="remotesensor" />
           <p>Interfacing to the modbus on the EPever controller was a simple matter. The ESP32 reads the read time data from the solar charger, and uploads the data to <a href="http://data3.trailmonitoring.ca">ThinkSpeak channel</a>. </p>
           </div>
           <div class="two-of-two">
           <h3>Prototyping</h3>
           <img class="img-right" src="images/trailcam.jpg" width="200" alt="solarpanel" />
           <p>Used as a prototype for a security camera, this trail camera device is based on a Raspberry PI. Future devices will be developed using the ESP32CAM camera board to run low power cameras anywhere in the forest. While this current version requires a WIFI connection, the future plan is to collect the images locally in the device and retrieve them when required.</p>
           </div>
       </div>
       <!--End Images in content example-->

      </div>
      <!--End About us content-->
    </div>
  </div>
  <!-- End ABOUT US PAGE -->

  <!-- Begin Footer -->
  <div id="footer">
    <div class="footer-inside clearfix">

      <!--Footers Left Column-->
      <div class="foot-left-col">Copyright &copy; 2020 <a href="http://trailmonitoring.ca" class="white-link">trailmonitoring.ca</a> </div>
      <!--End Footers Left Column-->

      <!--Footers Right Column-->
      <div class="foot-right-col">
        <ul class="footer-menu">
            <li><a id="social-pop-out-trigger" href="#"><span class="up-ico">Connect with me</span></a></li>
            <li><a id="twitter-pop-out-trigger" href="#"><span class="up-ico">Twitter</span></a></li>
            <li class="top"><a href="#top" class="scroll-top"><span class="up-ico">Top</span></a></li>
        </ul>

        <!--Hidden pop out boxes - Social icons-->
        <div class="footer-pop-out-box social-pop-out-box">
            <div class="clearfix">
                <div class="one-icon-wrap"><a href="https://instagram.com/trailmonitoring"><img src="images/social-icons/instagram.png" width="32" height="32" alt="Instagram" /></a></div>
                <div class="one-icon-wrap"><a href="https://twitter.com/trailmonitoring"><img src="images/social-icons/twitter.png" width="32" height="32" alt="Twitter" /></a></div>
            </div>
        </div>

        <!--Hidden pop out boxes - Twitter-->
        <div class="footer-pop-out-box twitter-pop-out-box">
            <div class="twitter-content clearfix" id="twitter_div">Please wait, fetching latest tweets...</div>
            <div class="follow-me-button"><a class="button-press" href="#">Follow my tweets</a></div>
        </div>

      </div>
      <!--End Footers Right Column-->
    </div>
  </div>
  <!-- End Footer -->

</div>
<!--End Outside-->
<script type="text/javascript">Cufon.now();</script>
</body>
</html>